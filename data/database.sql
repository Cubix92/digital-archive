CREATE TABLE category
(
  id INT AUTO_INCREMENT PRIMARY KEY,
  name VARCHAR(255) NOT NULL,
  shortcut VARCHAR(255) NOT NULL
)ENGINE = INNODB;

CREATE TABLE tag
(
  id INT AUTO_INCREMENT PRIMARY KEY,
  name VARCHAR(255) NOT NULL,
  UNIQUE (name)
)ENGINE = INNODB;

CREATE TABLE note
(
  id INT AUTO_INCREMENT PRIMARY KEY,
  category INT NOT NULL,
  user_id INT NOT NULL,
  image VARCHAR(255) NOT NULL,
  title VARCHAR(255) NOT NULL,
  content TEXT,
  url VARCHAR(255) NOT NULL,
  date_published DATETIME NOT NULL,
  FOREIGN KEY(category) REFERENCES category(id)
)ENGINE = INNODB;

CREATE TABLE note_tag
(
  note_id INT NOT NULL,
  tag_id INT NOT NULL,
  PRIMARY KEY (note_id, tag_id)
)ENGINE = INNODB;

CREATE TABLE user
(
  id INT AUTO_INCREMENT PRIMARY KEY,
  email VARCHAR(255) NOT NULL UNIQUE,
  role VARCHAR(255) NOT NULL,
  password VARCHAR(255) NOT NULL,
  date_created DATETIME NOT NULL
)ENGINE = INNODB;

CREATE TABLE log
(
  id INT AUTO_INCREMENT PRIMARY KEY,
  type VARCHAR(255) NOT NULL,
  content TEXT NOT NULL,
  date DATETIME NOT NULL
)ENGINE = INNODB;